- name: Run cert_verify on reproducer
  hosts: "{{ cifmw_target_host | default('localhost') }}"
  gather_facts: true
  tasks:
    - name: Run verify endpoints are https
      ansible.builtin.import_role:
        name: cert_verify
        tasks_from: endpoints.yml

    - name: Run get endpoints cert serials
      ansible.builtin.import_role:
        name: cert_verify
        tasks_from: verify_certs.yml

    - name: Run check control plane services
      ansible.builtin.import_role:
        name: cert_verify
        tasks_from: control_plane_services.yml

    - name: Run check data plane compute nodes
      ansible.builtin.import_role:
        name: cert_verify
        tasks_from: check_compute.yml
