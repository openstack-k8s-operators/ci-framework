# os_must_gather
A role to gather openstack/openshift deployment logs using openstack-must-gather tool.

The openstack-must-gather image will be built and can be pushed to a repository if a change
is detected in the openstack-must-gather repo. The new image will be used during the job run,
testing the new changes.

## Parameters
* `cifmw_os_must_gather_image`: (String) The full url of openstack-must-gather container image
* `cifmw_os_must_gather_image_push`: (bool) Flag to push image to registry
* `cifmw_os_must_gather_image_registry`: (string) hostname and project where the image should be pushed
* `cifmw_os_must_gather_output_dir`: (String) Directory to store logs generated by must-gather tool
* `cifmw_os_must_gather_repo_path`: (string) Path to local clone of openstack-must-gather git repo
* `cifmw_os_must_gather_timeout`: (String) Timeout for must-gather command
* `cifmw_os_must_gather_host_network`: (Bool) Flag to gather host network data
* `cifmw_os_must_gather_namespaces`: (List) List of namespaces required by the gather task in case of failure
* `cifmw_os_must_gather_additional_namespaces`: (String) List of comma separated additional namespaces. Defaults to `kuttl,openshift-storage,sushy-emulator`

## Examples
```
- name: Gather logs using os-must-gather tool
  ansible.builtin.include_role:
    role: os_must_gather
```
