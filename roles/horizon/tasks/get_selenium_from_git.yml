- name: Print temp folder
  ansible.builtin.debug:
    msg: "Selenium temporary folder: {{ selenium_tests_temp.path }}"

- name: Render branch name if not provided by user
  ansible_builtin.set_fact:
    rendered_branch_name: "rhos-{{ cifmw_horizon_osp_release }}-trunk-patches"
  when: cifmw_horizon_selenium_branch is not defined

- name: Clone the Selenium repository from Horizon Selenium git repo {{ cifmw_horizon_osp_release }}
  ansible.builtin.git:
    repo: "{{ cifmw_horizon_selenium_repo }}"
    accept_hostkey: true
    ssh_opts: -o StrictHostKeyChecking=no
    dest: "{{ selenium_tests_temp.path }}"
    version: "{{ cifmw_horizon_selenium_branch | default(rendered_branch_name) }}"
  when:
    - selenium_tests_temp.path is defined
