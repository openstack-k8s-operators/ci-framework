#
# pmrep configuration file
#
# Based on default supplied PCP config that mimics collectl reports.
#
# NOTE: The metric specifications are of form:
# pcp.metric.name = label,instances,unit/scale,type,width,precision,limit

[cifmw]
#
# General settings
#
header = yes
unitinfo = no
globals = no
timestamp = yes
precision = 2
delimiter = " "

#
# CPU usage
#
cpu                = %%cpu,,,,5
cpu.label          = cpu
cpu.formula        = 100 * (kernel.all.cpu.user + kernel.all.cpu.nice) / hinv.ncpu
cpu.unit           = s
sys                = %%sys,,,,5
sys.label          = sys
sys.formula        = 100 * rate(kernel.all.cpu.sys) / hinv.ncpu
kernel.all.intr    = intr/s,,,,7
kernel.all.pswitch = cswch/s,,,,8

#
# RAM usage
#
mem.physmem        = Total,,GB,,5
mem.freemem        = Free,,GB,,5
mem.util.available = Avail,,GB,,5
mem.util.bufmem    = Buff,,GB,,5
mem.util.cached    = Cach,,GB,,5
mem.util.inactive  = Inac,,GB,,5
mem.util.slab      = Slab,,GB,,5
mem.util.mapped    = Map,,GB,,5

#
# disk usage
#
disk.all.read_bytes  = KBRead,,KB,,6
disk.all.read        = Reads,,,,6
disk.all.write_bytes = KBWrite,,KB,,6
disk.all.write       = Writes,,,,6

#
# network usage
#
kbin           = KBIn,,KB,,6
kbin.formula   = sum(network.interface.in.bytes)
pktin          = PktIn,,,,6
pktin.formula  = sum(network.interface.in.packets)
kbout          = KBOut,,KB,,6
kbout.formula  = sum(network.interface.out.bytes)
pktout         = PktOut,,,,6
pktout.formula = sum(network.interface.out.packets)
