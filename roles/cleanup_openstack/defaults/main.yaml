# Cleanup behavior flags
cifmw_cleanup_openstack_detach_bmh: true
# Dry-run mode - when true, only reports what would be deleted without actually deleting
cifmw_cleanup_openstack_dry_run: false
# Delete OpenStack CRs directly from cluster (not just from files)
cifmw_cleanup_openstack_delete_crs_direct: true
# Delete OpenStack API resources (servers, networks, volumes, etc.)
cifmw_cleanup_openstack_delete_api_resources: true
# Delete PVCs, secrets, and storage resources
cifmw_cleanup_openstack_delete_storage: true
# Delete namespaces if empty (use with caution)
cifmw_cleanup_openstack_delete_namespaces: false
# Force remove finalizers from stuck CRs
cifmw_cleanup_openstack_force_remove_finalizers: false
# OpenStack cloud name for API cleanup
cifmw_cleanup_openstack_cloud_name: default
# Keep generated CR files after cleanup
cifmw_cleanup_openstack_keep_generated_crs: false

# Base directory for CI framework data
# This is used by various roles and should default to a standard location
cifmw_basedir: "{{ ansible_user_dir }}/ci-framework-data"

# Variables from kustomize_deploy role
# These are needed for cleanup to locate deployment artifacts and namespaces
cifmw_kustomize_deploy_basedir: >-
  {{
    cifmw_basedir | default(ansible_user_dir ~ '/ci-framework-data')
  }}

cifmw_kustomize_deploy_kustomizations_dest_dir: >-
  {{
    [
      cifmw_kustomize_deploy_basedir,
      'artifacts',
      'kustomize_deploy'
    ] | path_join
  }}

cifmw_kustomize_deploy_namespace: openstack
cifmw_kustomize_deploy_operators_namespace: openstack-operators

# Variables from deploy_bmh role
# These are needed for cleanup to locate and detach baremetal hosts
cifmw_deploy_bmh_basedir: >-
  {{
    cifmw_basedir | default(ansible_user_dir ~ '/ci-framework-data')
  }}

cifmw_deploy_bmh_dest_dir: >-
  {{
    [
      cifmw_deploy_bmh_basedir,
      'artifacts',
      'deploy_bmh'
    ] | path_join
  }}

cifmw_deploy_bmh_namespace: openshift-machine-api

# Variables for OpenShift cluster access
# Default kubeconfig path (can be overridden by cifmw_openshift_kubeconfig or cifmw_openshift_login_kubeconfig)
cifmw_cleanup_openstack_kubeconfig_default: "{{ ansible_user_dir }}/.kube/config"

# Architecture variables (optional - if not provided, cleanup will skip architecture-specific tasks)
# cifmw_architecture_repo: Path to architecture repository (if using architecture-based deployment)
# cifmw_architecture_scenario: Scenario name (if using architecture-based deployment)
# cifmw_architecture_automation_file: Direct path to automation file (overrides repo+scenario)
