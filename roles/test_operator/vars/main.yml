# Copyright Red Hat, Inc.
# All Rights Reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License"); you may
# not use this file except in compliance with the License. You may obtain
# a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
# License for the specific language governing permissions and limitations
# under the License.

cifmw_test_operator_controller_priv_key_secret_name: "test-operator-controller-priv-key"
cifmw_test_operator_tempest_name: "tempest-tests"
cifmw_test_operator_tobiko_name: "tobiko-tests"
cifmw_test_operator_ansibletest_name: "ansibletest"
cifmw_test_operator_horizontest_name: "horizontest-tests"
cifmw_test_operator_tempest_kind_name: "Tempest"
cifmw_test_operator_tobiko_kind_name: "Tobiko"
cifmw_test_operator_ansibletest_kind_name: "AnsibleTest"
cifmw_test_operator_horizontest_kind_name: "HorizonTest"
cifmw_test_operator_crd_group: "test.openstack.org"
cifmw_test_operator_tempest_crd_name: "tempests.{{ cifmw_test_operator_crd_group }}"
cifmw_test_operator_tobiko_crd_name: "tobikoes.{{ cifmw_test_operator_crd_group }}"
cifmw_test_operator_ansibletest_crd_name: "ansibletests.{{ cifmw_test_operator_crd_group }}"
cifmw_test_operator_horizontest_crd_name: "horizontests.{{ cifmw_test_operator_crd_group }}"
cifmw_test_operator_controller_name: "test-operator-controller-manager"
cifmw_test_operator_tobiko_default_conf:
  DEFAULT:
    log_dir: /var/lib/tobiko/tobiko
    log_file: tobiko.log
    debug: true
  testcase:
    timeout: 1800.0
    test_runner_timeout: 14400.0
  ubuntu:
    interface_name: enp3s0
    image_file: ~/.downloaded-images/ubuntu-minimal
  keystone:
    interface: public
  manila:
    share_protocol: cephfs

cifmw_test_operator_tempest_default_conf:
  apiVersion: test.openstack.org/v1beta1
  kind: Tempest
  metadata:
    name: "{{ test_operator_job_name }}"
    namespace: "{{ cifmw_test_operator_namespace }}"
  spec:
    containerImage: "{{ cifmw_test_operator_tempest_image }}:{{ cifmw_test_operator_tempest_image_tag }}"
    storageClass: "{{ cifmw_test_operator_storage_class }}"
    privileged: "{{ cifmw_test_operator_privileged }}"
    parallel: "{{ cifmw_test_operator_tempest_parallel | default(omit) }}"
    SSHKeySecretName: "{{ cifmw_test_operator_tempest_ssh_key_secret_name | default(omit) }}"
    configOverwrite: "{{ cifmw_test_operator_tempest_config_overwrite | default(omit) }}"
    networkAttachments: "{{ cifmw_test_operator_tempest_network_attachments }}"
    tolerations: "{{ cifmw_test_operator_tolerations | default(omit) }}"
    nodeSelector: "{{ cifmw_test_operator_node_selector | default(omit) }}"
    extraConfigmapsMounts: "{{ cifmw_test_operator_tempest_extra_configmaps_mounts | default(omit) }}"
    tempestRun:
      includeList: |
        {{ cifmw_test_operator_tempest_include_list | default('') }}
      excludeList: |
        {{ cifmw_test_operator_tempest_exclude_list | default('') }}
      concurrency: "{{ cifmw_test_operator_concurrency }}"
      externalPlugin: "{{ cifmw_test_operator_tempest_external_plugin | default([]) }}"
      extraRPMs: "{{ cifmw_test_operator_tempest_extra_rpms | default([]) }}"
      extraImages: "{{ cifmw_test_operator_tempest_extra_images | default([]) }}"
    tempestconfRun: "{{ cifmw_tempest_tempestconf_config_defaults | combine(cifmw_tempest_tempestconf_config | default({})) }}"
    workflow: "{{ cifmw_test_operator_tempest_workflow }}"
